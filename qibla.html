<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>QIBLA</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body style="background-color: cadetblue">
    <!--Header-->
    <header style="justify-content: center;display: flex;flex-direction: column;text-align: center;background-color: cadetblue;height:50px;">
      <text style="font-size: larger; color:white;">QIBLA</text>
    </header>
<!--Navigation Bar-->
    <div style="display: flex; flex-direction: row; justify-content: center; flex:1; background-color: skyblue;">
      <a id="buttons"  href="./names.html">
        <text style="margin-top: 10px">NAMES-ALLAH</text>
        <i style="margin-bottom: 10px" class="fa-solid fa-star-and-crescent"></i>
      </a>
      <a id="buttons" style="background-color: darkcyan;" href="./qibla.html">
        <text style="margin-top: 10px">QIBLA</text>
        <i style="margin-bottom: 10px" class="fa-solid fa-compass"></i>
      </a>
      <a id="buttons" href="./pray.html">
        <text style="margin-top: 10px">PRAY</text>
        <i style="margin-bottom: 10px" class="fa-solid fa-person-praying"></i>
      </a>
      <a id="buttons" href="./wudu.html">
        <text style="margin-top: 10px">WUDU</text>
        <i style="margin-bottom: 10px"  class="fa-solid fa-water"></i>
      </a>
    </div>
    <div style="display: flex; flex-direction: row; justify-content: center; flex:1; background-color: skyblue;">
        <a id="buttons" href="./extra.html">
          <text style="margin-top: 10px">EXTRA</text>
          <i style="margin-bottom: 10px"  class="fa-solid fa-gear"></i>
        </a>
    </div>
  


    <h1>Compass</h1>
    <div class="compass">
      <div class="arrow"></div>
      <div class="disc" id="compassDiscImg"></div>
    </div>
    
    <div class="orientation-data">
      <div>Beta: <span id="tiltFB"></span></div>
      <div>Gamma: <span id="tiltLR"></span></div>
      <div>Alpha: <span id="direction"></span></div>
    </div>
    <div id="notice"></div>



    <div style="display: flex; flex-direction: row; align-items:flex-end; justify-content: center; flex:1; align-self:baseline; background-color: skyblue;">
        <a href="https://www.youtube.com/@RocketRoni2007">
          <i style="font-size:25px; margin:20px; text-decoration:none; color: white;" class="fa-brands fa-youtube"></i>
        </a>
        <a href="https://www.tiktok.com/@rocketroni2007">
          <i style="font-size:25px; margin:20px; text-decoration: none; color: white;" class="fa-brands fa-tiktok"></i>
        </a>
    </div>
  </body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', function(event) {

if (window.DeviceOrientationEvent) {
  document.getElementById('notice').innerHTML = 'Working API detected';
  window.addEventListener('deviceorientation', (eventData) => {
    // gamma: Tilting the device from left to right. Tilting the device to the right will result in a positive value.
    const tiltLR = eventData.gamma;
    // beta: Tilting the device from the front to the back. Tilting the device to the front will result in a positive value.
    const tiltFB = eventData.beta;
    // alpha: The direction the compass of the device aims to in degrees.
    const dir = eventData.alpha
    // Call the function to use the data on the page.
    deviceOrientationHandler(tiltLR, tiltFB, dir);
  }, false);
} else {
  document.getElementById('notice').innerHTML = 'No API detected'
};

function deviceOrientationHandler(tiltLR, tiltFB, dir) {
  document.getElementById('tiltLR').innerHTML = Math.ceil(tiltLR);
  document.getElementById('tiltFB').innerHTML = Math.ceil(tiltFB);
  document.getElementById('direction').innerHTML = Math.ceil(dir);
  // Rotate the disc of the compass. - CSS transform
  const compassDisc = document.getElementById('compassDiscImg');
  compassDisc.style.transform = `rotate(${dir}deg)`;
  compassDisc.style.webkitTransform = `rotate(${dir}deg)`;
  compassDisc.style.MozTransform = `rotate(${dir}deg)`;
}

});
</script>